webpackJsonp([3],{0:function(t,e,n){"use strict";n(3),n(173),n(172),n(174)},172:function(t,e,n){(function(t){"use strict";!function(t){var e=function(e,n){this._opt=t.extend({},this.options,n),this.init(e)};e.prototype.options={selectors:{item:".js-feedback-item",delete:".js-feedback-item-delete",showDetails:".js-feedback-item-show",markAsRead:".js-feedback-item-markas-read",markAsDone:".js-feedback-item-markas-done"}},e.prototype.init=function(e){this._$el=t(e),this._$delete=this._$el.find(this._opt.selectors.delete),this._$showDetails=this._$el.find(this._opt.selectors.showDetails),this._$markAsRead=this._$el.find(this._opt.selectors.markAsRead),this._$markAsDone=this._$el.find(this._opt.selectors.markAsDone),this.bindEvents()},e.prototype.bindEvents=function(){var t=this;this._$delete.on("click",function(e){e.preventDefault();var n=t.getItemId(this);t.delete(n)}),this._$showDetails.on("click",function(e){e.preventDefault();var n=t.getItemId(this);t.showDetails(n)}),this._$markAsDone.on("click",function(e){e.preventDefault();var n=t.getItemId(this);t.markAs(n,"done")}),this._$markAsRead.on("click",function(e){e.preventDefault();var n=t.getItemId(this);t.markAs(n,"read")})},e.prototype.getItemId=function(e){return t(e).parents(this._opt.selectors.item).data("item-id")},e.prototype.delete=function(e){var n;n=confirm("Are you sure?"),n&&t.ajax({url:"/admin/feedback/remove/"+e,type:"DELETE",dataType:"json",success:function(t){return t.status?document.location.reload():alert("An error has occured")}})},e.prototype.showDetails=function(e){var n=t("#entity_"+e);n.slideToggle()},e.prototype.markAs=function(e,n){t.ajax({url:"/admin/feedback/mark/"+n+"/"+e,type:"GET",dataType:"json",success:function(t){return t.status?document.location.reload():alert("An error has occured")}})},t.fn.feedbackAdmin=function(t){this.each(function(){return new e(this,t)})},t(".js-feedback").feedbackAdmin()}(t)}).call(e,n(3))},173:function(t,e,n){(function(t){"use strict";!function(t){t.fn.feedback=function(e,n){var r=t(this);r.find(".dropdown-menu-form").on("click",function(t){t.stopPropagation()}),r.find(".screenshot").on("click",function(){r.find(".cam").removeClass("fa-camera fa-check").addClass("fa-refresh fa-spin"),html2canvas(t(document.body),{onrendered:function(t){r.find(".screen-uri").val(t.toDataURL("image/png")),r.find(".cam").removeClass("fa-refresh fa-spin").addClass("fa-check")}})}),r.find(".do-close").on("click",function(){r.find(".dropdown-toggle").dropdown("toggle"),r.find(".reported, .failed").hide(),r.find(".report").show(),r.find(".cam").removeClass("fa-check").addClass("fa-camera"),r.find(".screen-uri").val(""),r.find("textarea").val("")});var o=function(){r.find(".loading").hide(),r.find(".failed").show(),n&&n()};r.find("form").on("submit",function(e){e.preventDefault(),r.find(".report").hide(),r.find(".loading").show();var n=t(this);t.ajax({url:n.attr("action"),type:"POST",dataType:"json",data:n.serialize()}).done(function(t){return t.error?o():(r.find(".loading").hide(),void r.find(".reported").show())}).fail(function(){o()})})},t(function(){t("#feedback_wrapper_div").feedback()})}(t)}).call(e,n(3))},174:function(t,e,n){(function(t){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,n,r){function o(t,e,n){var r,o=t.runtimeStyle&&t.runtimeStyle[e],a=t.style;return!/^-?[0-9]+\.?[0-9]*(?:px)?$/i.test(n)&&/^-?\d/.test(n)&&(r=a.left,o&&(t.runtimeStyle.left=t.currentStyle.left),a.left="fontSize"===e?"1em":n||0,n=a.pixelLeft+"px",a.left=r,o&&(t.runtimeStyle.left=o)),/^(thin|medium|thick)$/i.test(n)?n:Math.round(parseFloat(n))+"px"}function a(t){return parseInt(t,10)}function i(t,e,n,a){if(t=(t||"").split(","),t=t[a||0]||t[0]||"auto",t=h.Util.trimText(t).split(" "),"backgroundSize"!==n||t[0]&&!t[0].match(/cover|contain|auto/)){if(t[0]=-1===t[0].indexOf("%")?o(e,n+"X",t[0]):t[0],t[1]===r){if("backgroundSize"===n)return t[1]="auto",t;t[1]=t[0]}t[1]=-1===t[1].indexOf("%")?o(e,n+"Y",t[1]):t[1]}return t}function s(t,e,n,r,o,a){var i,s,l,c,d=h.Util.getCSS(e,t,o);if(1===d.length&&(c=d[0],d=[],d[0]=c,d[1]=c),-1!==(""+d[0]).indexOf("%"))l=parseFloat(d[0])/100,s=n.width*l,"backgroundSize"!==t&&(s-=(a||r).width*l);else if("backgroundSize"===t)if("auto"===d[0])s=r.width;else if(/contain|cover/.test(d[0])){var u=h.Util.resizeBounds(r.width,r.height,n.width,n.height,d[0]);s=u.width,i=u.height}else s=parseInt(d[0],10);else s=parseInt(d[0],10);return"auto"===d[1]?i=s/r.width*r.height:-1!==(""+d[1]).indexOf("%")?(l=parseFloat(d[1])/100,i=n.height*l,"backgroundSize"!==t&&(i-=(a||r).height*l)):i=parseInt(d[1],10),[s,i]}function l(t,e){var n=[];return{storage:n,width:t,height:e,clip:function(){n.push({type:"function",name:"clip",arguments:arguments})},translate:function(){n.push({type:"function",name:"translate",arguments:arguments})},fill:function(){n.push({type:"function",name:"fill",arguments:arguments})},save:function(){n.push({type:"function",name:"save",arguments:arguments})},restore:function(){n.push({type:"function",name:"restore",arguments:arguments})},fillRect:function(){n.push({type:"function",name:"fillRect",arguments:arguments})},createPattern:function(){n.push({type:"function",name:"createPattern",arguments:arguments})},drawShape:function(){var t=[];return n.push({type:"function",name:"drawShape",arguments:t}),{moveTo:function(){t.push({name:"moveTo",arguments:arguments})},lineTo:function(){t.push({name:"lineTo",arguments:arguments})},arcTo:function(){t.push({name:"arcTo",arguments:arguments})},bezierCurveTo:function(){t.push({name:"bezierCurveTo",arguments:arguments})},quadraticCurveTo:function(){t.push({name:"quadraticCurveTo",arguments:arguments})}}},drawImage:function(){n.push({type:"function",name:"drawImage",arguments:arguments})},fillText:function(){n.push({type:"function",name:"fillText",arguments:arguments})},setVariable:function(t,e){return n.push({type:"variable",name:t,arguments:e}),e}}}function c(t){return{zindex:t,children:[]}}var d,u,h={};h.Util={},h.Util.log=function(e){h.logging&&t.console&&t.console.log&&t.console.log(e)},h.Util.trimText=function(t){return function(e){return t?t.apply(e):((e||"")+"").replace(/^\s+|\s+$/g,"")}}(String.prototype.trim),h.Util.asFloat=function(t){return parseFloat(t)},function(){var t=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,e=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g;h.Util.parseTextShadows=function(n){if(!n||"none"===n)return[];for(var r=n.match(t),o=[],a=0;r&&r.length>a;a++){var i=r[a].match(e);o.push({color:i[0],offsetX:i[1]?i[1].replace("px",""):0,offsetY:i[2]?i[2].replace("px",""):0,blur:i[3]?i[3].replace("px",""):0})}return o}}(),h.Util.parseBackgroundImage=function(t){var e,n,r,o,a,i,s,l,c=" \r\n\t",d=[],u=0,h=0,f=function(){e&&('"'===n.substr(0,1)&&(n=n.substr(1,n.length-2)),n&&l.push(n),"-"===e.substr(0,1)&&(o=e.indexOf("-",1)+1)>0&&(r=e.substr(0,o),e=e.substr(o)),d.push({prefix:r,method:e.toLowerCase(),value:a,args:l})),l=[],e=r=n=a=""};f();for(var p=0,m=t.length;m>p;p++)if(i=t[p],!(0===u&&c.indexOf(i)>-1)){switch(i){case'"':s?s===i&&(s=null):s=i;break;case"(":if(s)break;if(0===u){u=1,a+=i;continue}h++;break;case")":if(s)break;if(1===u){if(0===h){u=0,a+=i,f();continue}h--}break;case",":if(s)break;if(0===u){f();continue}if(1===u&&0===h&&!e.match(/^url$/i)){l.push(n),n="",a+=i;continue}}a+=i,0===u?e+=i:n+=i}return f(),d},h.Util.Bounds=function(t){var e,n={};return t.getBoundingClientRect&&(e=t.getBoundingClientRect(),n.top=e.top,n.bottom=e.bottom||e.top+e.height,n.left=e.left,n.width=t.offsetWidth,n.height=t.offsetHeight),n},h.Util.OffsetBounds=function(t){var e=t.offsetParent?h.Util.OffsetBounds(t.offsetParent):{top:0,left:0};return{top:t.offsetTop+e.top,bottom:t.offsetTop+t.offsetHeight+e.top,left:t.offsetLeft+e.left,width:t.offsetWidth,height:t.offsetHeight}},h.Util.getCSS=function(t,e,r){d!==t&&(u=n.defaultView.getComputedStyle(t,null));var o=u[e];if(/^background(Size|Position)$/.test(e))return i(o,t,e,r);if(/border(Top|Bottom)(Left|Right)Radius/.test(e)){var s=o.split(" ");return 1>=s.length&&(s[1]=s[0]),s.map(a)}return o},h.Util.resizeBounds=function(t,e,n,r,o){var a,i,s=n/r,l=t/e;return o&&"auto"!==o?l>s^"contain"===o?(i=r,a=r*l):(a=n,i=n/l):(a=n,i=r),{width:a,height:i}},h.Util.BackgroundPosition=function(t,e,n,r,o){var a=s("backgroundPosition",t,e,n,r,o);return{left:a[0],top:a[1]}},h.Util.BackgroundSize=function(t,e,n,r){var o=s("backgroundSize",t,e,n,r);return{width:o[0],height:o[1]}},h.Util.Extend=function(t,e){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},h.Util.Children=function(t){var e;try{e=t.nodeName&&"IFRAME"===t.nodeName.toUpperCase()?t.contentDocument||t.contentWindow.document:function(t){var e=[];return null!==t&&function(t,e){var n=t.length,o=0;if("number"==typeof e.length)for(var a=e.length;a>o;o++)t[n++]=e[o];else for(;e[o]!==r;)t[n++]=e[o++];return t.length=n,t}(e,t),e}(t.childNodes)}catch(t){h.Util.log("html2canvas.Util.Children failed with exception: "+t.message),e=[]}return e},h.Util.isTransparent=function(t){return"transparent"===t||"rgba(0, 0, 0, 0)"===t},h.Util.Font=function(){var t={};return function(e,n,o){if(t[e+"-"+n]!==r)return t[e+"-"+n];var a,i,s,l=o.createElement("div"),c=o.createElement("img"),d=o.createElement("span"),u="Hidden Text";return l.style.visibility="hidden",l.style.fontFamily=e,l.style.fontSize=n,l.style.margin=0,l.style.padding=0,o.body.appendChild(l),c.src="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACwAAAAAAQABAAACAkQBADs=",c.width=1,c.height=1,c.style.margin=0,c.style.padding=0,c.style.verticalAlign="baseline",d.style.fontFamily=e,d.style.fontSize=n,d.style.margin=0,d.style.padding=0,d.appendChild(o.createTextNode(u)),l.appendChild(d),l.appendChild(c),a=c.offsetTop-d.offsetTop+1,l.removeChild(d),l.appendChild(o.createTextNode(u)),l.style.lineHeight="normal",c.style.verticalAlign="super",i=c.offsetTop-l.offsetTop+1,s={baseline:a,lineWidth:1,middle:i},t[e+"-"+n]=s,o.body.removeChild(l),s}}(),function(){function t(t){return function(n){try{t.addColorStop(n.stop,n.color)}catch(t){e.log(["failed to add color stop: ",t,"; tried to add: ",n])}}}var e=h.Util,r={};h.Generate=r;var o=[/^(-webkit-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-gradient)\((linear|radial),\s((?:\d{1,3}%?)\s(?:\d{1,3}%?),\s(?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)\-]+)\)$/,/^(-moz-linear-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-moz-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s?([a-z\-]*)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/];r.parseGradient=function(t,e){var n,r,a,i,s,l,c,d,u,h,f,p,m=o.length;for(r=0;m>r&&!(a=t.match(o[r]));r+=1);if(a)switch(a[1]){case"-webkit-linear-gradient":case"-o-linear-gradient":if(n={type:"linear",x0:null,y0:null,x1:null,y1:null,colorStops:[]},s=a[2].match(/\w+/g))for(l=s.length,r=0;l>r;r+=1)switch(s[r]){case"top":n.y0=0,n.y1=e.height;break;case"right":n.x0=e.width,n.x1=0;break;case"bottom":n.y0=e.height,n.y1=0;break;case"left":n.x0=0,n.x1=e.width}if(null===n.x0&&null===n.x1&&(n.x0=n.x1=e.width/2),null===n.y0&&null===n.y1&&(n.y0=n.y1=e.height/2),s=a[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(l=s.length,c=1/Math.max(l-1,1),r=0;l>r;r+=1)d=s[r].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),d[2]?(i=parseFloat(d[2]),i/="%"===d[3]?100:e.width):i=r*c,n.colorStops.push({color:d[1],stop:i});break;case"-webkit-gradient":if(n={type:"radial"===a[2]?"circle":a[2],x0:0,y0:0,x1:0,y1:0,colorStops:[]},s=a[3].match(/(\d{1,3})%?\s(\d{1,3})%?,\s(\d{1,3})%?\s(\d{1,3})%?/),s&&(n.x0=s[1]*e.width/100,n.y0=s[2]*e.height/100,n.x1=s[3]*e.width/100,n.y1=s[4]*e.height/100),s=a[4].match(/((?:from|to|color-stop)\((?:[0-9\.]+,\s)?(?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)\))+/g))for(l=s.length,r=0;l>r;r+=1)d=s[r].match(/(from|to|color-stop)\(([0-9\.]+)?(?:,\s)?((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\)/),i=parseFloat(d[2]),"from"===d[1]&&(i=0),"to"===d[1]&&(i=1),n.colorStops.push({color:d[3],stop:i});break;case"-moz-linear-gradient":if(n={type:"linear",x0:0,y0:0,x1:0,y1:0,colorStops:[]},s=a[2].match(/(\d{1,3})%?\s(\d{1,3})%?/),s&&(n.x0=s[1]*e.width/100,n.y0=s[2]*e.height/100,n.x1=e.width-n.x0,n.y1=e.height-n.y0),s=a[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}%)?)+/g))for(l=s.length,c=1/Math.max(l-1,1),r=0;l>r;r+=1)d=s[r].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%)?/),d[2]?(i=parseFloat(d[2]),d[3]&&(i/=100)):i=r*c,n.colorStops.push({color:d[1],stop:i});break;case"-webkit-radial-gradient":case"-moz-radial-gradient":case"-o-radial-gradient":if(n={type:"circle",x0:0,y0:0,x1:e.width,y1:e.height,cx:0,cy:0,rx:0,ry:0,colorStops:[]},s=a[2].match(/(\d{1,3})%?\s(\d{1,3})%?/),s&&(n.cx=s[1]*e.width/100,n.cy=s[2]*e.height/100),s=a[3].match(/\w+/),d=a[4].match(/[a-z\-]*/),s&&d)switch(d[0]){case"farthest-corner":case"cover":case"":u=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.cy,2)),h=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.y1-n.cy,2)),f=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.y1-n.cy,2)),p=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.cy,2)),n.rx=n.ry=Math.max(u,h,f,p);break;case"closest-corner":u=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.cy,2)),h=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.y1-n.cy,2)),f=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.y1-n.cy,2)),p=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.cy,2)),n.rx=n.ry=Math.min(u,h,f,p);break;case"farthest-side":"circle"===s[0]?n.rx=n.ry=Math.max(n.cx,n.cy,n.x1-n.cx,n.y1-n.cy):(n.type=s[0],n.rx=Math.max(n.cx,n.x1-n.cx),n.ry=Math.max(n.cy,n.y1-n.cy));break;case"closest-side":case"contain":"circle"===s[0]?n.rx=n.ry=Math.min(n.cx,n.cy,n.x1-n.cx,n.y1-n.cy):(n.type=s[0],n.rx=Math.min(n.cx,n.x1-n.cx),n.ry=Math.min(n.cy,n.y1-n.cy))}if(s=a[5].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(l=s.length,c=1/Math.max(l-1,1),r=0;l>r;r+=1)d=s[r].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),d[2]?(i=parseFloat(d[2]),i/="%"===d[3]?100:e.width):i=r*c,n.colorStops.push({color:d[1],stop:i})}return n},r.Gradient=function(e,r){if(0!==r.width&&0!==r.height){var o,a,i=n.createElement("canvas"),s=i.getContext("2d");if(i.width=r.width,i.height=r.height,o=h.Generate.parseGradient(e,r))switch(o.type){case"linear":a=s.createLinearGradient(o.x0,o.y0,o.x1,o.y1),o.colorStops.forEach(t(a)),s.fillStyle=a,s.fillRect(0,0,r.width,r.height);break;case"circle":a=s.createRadialGradient(o.cx,o.cy,0,o.cx,o.cy,o.rx),o.colorStops.forEach(t(a)),s.fillStyle=a,s.fillRect(0,0,r.width,r.height);break;case"ellipse":var l=n.createElement("canvas"),c=l.getContext("2d"),d=Math.max(o.rx,o.ry),u=2*d;l.width=l.height=u,a=c.createRadialGradient(o.rx,o.ry,0,o.rx,o.ry,d),o.colorStops.forEach(t(a)),c.fillStyle=a,c.fillRect(0,0,u,u),s.fillStyle=o.colorStops[o.colorStops.length-1].color,s.fillRect(0,0,i.width,i.height),s.drawImage(l,o.cx-o.rx,o.cy-o.ry,2*o.rx,2*o.ry)}return i}},r.ListAlpha=function(t){var e,n="";do e=t%26,n=String.fromCharCode(e+64)+n,t/=26;while(26*t>26);return n},r.ListRoman=function(t){var e,n=["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],r=[1e3,900,500,400,100,90,50,40,10,9,5,4,1],o="",a=n.length;if(0>=t||t>=4e3)return t;for(e=0;a>e;e+=1)for(;t>=r[e];)t-=r[e],o+=n[e];return o}}(),h.Parse=function(e,o){function a(){return Math.max(Math.max(dt.body.scrollWidth,dt.documentElement.scrollWidth),Math.max(dt.body.offsetWidth,dt.documentElement.offsetWidth),Math.max(dt.body.clientWidth,dt.documentElement.clientWidth))}function i(){return Math.max(Math.max(dt.body.scrollHeight,dt.documentElement.scrollHeight),Math.max(dt.body.offsetHeight,dt.documentElement.offsetHeight),Math.max(dt.body.clientHeight,dt.documentElement.clientHeight))}function s(t,e){var n=parseInt(mt(t,e),10);return isNaN(n)?0:n}function d(t,e,n,r,o,a){"transparent"!==a&&(t.setVariable("fillStyle",a),t.fillRect(e,n,r,o),ct+=1)}function u(t,e,n){return t.length>0?e+n.toUpperCase():r}function f(t,e){switch(e){case"lowercase":return t.toLowerCase();case"capitalize":return t.replace(/(^|\s|:|-|\(|\))([a-z])/g,u);case"uppercase":return t.toUpperCase();default:return t}}function p(t){return/^(normal|none|0px)$/.test(t)}function m(t,e,n,r){null!==t&&ut.trimText(t).length>0&&(r.fillText(t,e,n),ct+=1)}function g(t,e,n,o){var a=!1,i=mt(e,"fontWeight"),s=mt(e,"fontFamily"),l=mt(e,"fontSize"),c=ut.parseTextShadows(mt(e,"textShadow"));switch(parseInt(i,10)){case 401:i="bold";break;case 400:i="normal"}return t.setVariable("fillStyle",o),t.setVariable("font",[mt(e,"fontStyle"),mt(e,"fontVariant"),i,l,s].join(" ")),t.setVariable("textAlign",a?"right":"left"),c.length&&(t.setVariable("shadowColor",c[0].color),t.setVariable("shadowOffsetX",c[0].offsetX),t.setVariable("shadowOffsetY",c[0].offsetY),t.setVariable("shadowBlur",c[0].blur)),"none"!==n?ut.Font(s,l,dt):r}function y(t,e,n,r,o){switch(e){case"underline":d(t,n.left,Math.round(n.top+r.baseline+r.lineWidth),n.width,1,o);break;case"overline":d(t,n.left,Math.round(n.top),n.width,1,o);break;case"line-through":d(t,n.left,Math.ceil(n.top+r.middle+r.lineWidth),n.width,1,o)}}function b(t,e,n,r,o){var a;if(ht.rangeBounds&&!o)("none"!==n||0!==ut.trimText(e).length)&&(a=w(e,t.node,t.textOffset)),t.textOffset+=e.length;else if(t.node&&"string"==typeof t.node.nodeValue){var i=r?t.node.splitText(e.length):null;a=x(t.node,o),t.node=i}return a}function w(t,e,n){var r=dt.createRange();return r.setStart(e,n),r.setEnd(e,n+t.length),r.getBoundingClientRect()}function x(t,e){var n=t.parentNode,r=dt.createElement("wrapper"),o=t.cloneNode(!0);r.appendChild(t.cloneNode(!0)),n.replaceChild(r,t);var a=e?ut.OffsetBounds(r):ut.Bounds(r);return n.replaceChild(o,r),a}function v(t,e,n){var r,a,i=n.ctx,s=mt(t,"color"),l=mt(t,"textDecoration"),c=mt(t,"textAlign"),d={node:e,textOffset:0};ut.trimText(e.nodeValue).length>0&&(e.nodeValue=f(e.nodeValue,mt(t,"textTransform")),c=c.replace(["-webkit-auto"],["auto"]),a=!o.letterRendering&&/^(left|right|justify|auto)$/.test(c)&&p(mt(t,"letterSpacing"))?e.nodeValue.split(/(\b| )/):e.nodeValue.split(""),r=g(i,t,l,s),o.chinese&&a.forEach(function(t,e){/.*[\u4E00-\u9FA5].*$/.test(t)&&(t=t.split(""),t.unshift(e,1),a.splice.apply(a,t))}),a.forEach(function(t,e){var o=b(d,t,l,a.length-1>e,n.transform.matrix);o&&(m(t,o.left,o.bottom,i),y(i,l,o,r,s))}))}function k(t,e){var n,r,o=dt.createElement("boundelement");return o.style.display="inline",n=t.style.listStyleType,t.style.listStyleType="none",o.appendChild(dt.createTextNode(e)),t.insertBefore(o,t.firstChild),r=ut.Bounds(o),t.removeChild(o),t.style.listStyleType=n,r}function C(t){var e=-1,n=1,r=t.parentNode.childNodes;if(t.parentNode){for(;r[++e]!==t;)1===r[e].nodeType&&n++;return n}return-1}function T(t,e){var n,r=C(t);switch(e){case"decimal":n=r;break;case"decimal-leading-zero":n=1===(""+r).length?r="0"+r:""+r;break;case"upper-roman":n=h.Generate.ListRoman(r);break;case"lower-roman":n=h.Generate.ListRoman(r).toLowerCase();break;case"lower-alpha":n=h.Generate.ListAlpha(r).toLowerCase();break;case"upper-alpha":n=h.Generate.ListAlpha(r)}return n+". "}function S(t,e,n){var r,o,a,i=e.ctx,s=mt(t,"listStyleType");if(/^(decimal|decimal-leading-zero|upper-alpha|upper-latin|upper-roman|lower-alpha|lower-greek|lower-latin|lower-roman)$/i.test(s)){if(o=T(t,s),a=k(t,o),g(i,t,"none",mt(t,"color")),"inside"!==mt(t,"listStylePosition"))return;i.setVariable("textAlign","left"),r=n.left,m(o,r,a.bottom,i)}}function E(t){var n=e[t];return!(!n||n.succeeded!==!0)&&n.img}function R(t,e){var n=Math.max(t.left,e.left),r=Math.max(t.top,e.top),o=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height);return{left:n,top:r,width:o-n,height:a-r}}function I(t,e,n){var r,o="static"!==e.cssPosition,a=o?mt(t,"zIndex"):"auto",i=mt(t,"opacity"),s="none"!==mt(t,"cssFloat");e.zIndex=r=c(a),r.isPositioned=o,r.isFloated=s,r.opacity=i,r.ownStacking="auto"!==a||1>i,n&&n.zIndex.children.push(e)}function M(t,e,n,r,o){var a=s(e,"paddingLeft"),i=s(e,"paddingTop"),l=s(e,"paddingRight"),c=s(e,"paddingBottom");_(t,n,0,0,n.width,n.height,r.left+a+o[3].width,r.top+i+o[0].width,r.width-(o[1].width+o[3].width+a+l),r.height-(o[0].width+o[2].width+i+c))}function L(t){return["Top","Right","Bottom","Left"].map(function(e){return{width:s(t,"border"+e+"Width"),color:mt(t,"border"+e+"Color")}})}function A(t){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(e){return mt(t,"border"+e+"Radius")})}function O(t,e,n,r){var o=function(t,e,n){return{x:t.x+(e.x-t.x)*n,y:t.y+(e.y-t.y)*n}};return{start:t,startControl:e,endControl:n,end:r,subdivide:function(a){var i=o(t,e,a),s=o(e,n,a),l=o(n,r,a),c=o(i,s,a),d=o(s,l,a),u=o(c,d,a);return[O(t,i,c,u),O(u,d,l,r)]},curveTo:function(t){t.push(["bezierCurve",e.x,e.y,n.x,n.y,r.x,r.y])},curveToReversed:function(r){r.push(["bezierCurve",n.x,n.y,e.x,e.y,t.x,t.y])}}}function z(t,e,n,r,o,a,i){e[0]>0||e[1]>0?(t.push(["line",r[0].start.x,r[0].start.y]),r[0].curveTo(t),r[1].curveTo(t)):t.push(["line",a,i]),(n[0]>0||n[1]>0)&&t.push(["line",o[0].start.x,o[0].start.y])}function U(t,e,n,r,o,a,i){var s=[];return e[0]>0||e[1]>0?(s.push(["line",r[1].start.x,r[1].start.y]),r[1].curveTo(s)):s.push(["line",t.c1[0],t.c1[1]]),n[0]>0||n[1]>0?(s.push(["line",a[0].start.x,a[0].start.y]),a[0].curveTo(s),s.push(["line",i[0].end.x,i[0].end.y]),i[0].curveToReversed(s)):(s.push(["line",t.c2[0],t.c2[1]]),s.push(["line",t.c3[0],t.c3[1]])),e[0]>0||e[1]>0?(s.push(["line",o[1].end.x,o[1].end.y]),o[1].curveToReversed(s)):s.push(["line",t.c4[0],t.c4[1]]),s}function B(t,e,n){var r=t.left,o=t.top,a=t.width,i=t.height,s=e[0][0],l=e[0][1],c=e[1][0],d=e[1][1],u=e[2][0],h=e[2][1],f=e[3][0],p=e[3][1],m=a-c,g=i-h,y=a-u,b=i-p;return{topLeftOuter:bt(r,o,s,l).topLeft.subdivide(.5),topLeftInner:bt(r+n[3].width,o+n[0].width,Math.max(0,s-n[3].width),Math.max(0,l-n[0].width)).topLeft.subdivide(.5),topRightOuter:bt(r+m,o,c,d).topRight.subdivide(.5),topRightInner:bt(r+Math.min(m,a+n[3].width),o+n[0].width,m>a+n[3].width?0:c-n[3].width,d-n[0].width).topRight.subdivide(.5),bottomRightOuter:bt(r+y,o+g,u,h).bottomRight.subdivide(.5),bottomRightInner:bt(r+Math.min(y,a+n[3].width),o+Math.min(g,i+n[0].width),Math.max(0,u-n[1].width),Math.max(0,h-n[2].width)).bottomRight.subdivide(.5),bottomLeftOuter:bt(r,o+b,f,p).bottomLeft.subdivide(.5),bottomLeftInner:bt(r+n[3].width,o+b,Math.max(0,f-n[3].width),Math.max(0,p-n[2].width)).bottomLeft.subdivide(.5)}}function N(t,e,n,r,o){var a=mt(t,"backgroundClip"),i=[];switch(a){case"content-box":case"padding-box":z(i,r[0],r[1],e.topLeftInner,e.topRightInner,o.left+n[3].width,o.top+n[0].width),z(i,r[1],r[2],e.topRightInner,e.bottomRightInner,o.left+o.width-n[1].width,o.top+n[0].width),z(i,r[2],r[3],e.bottomRightInner,e.bottomLeftInner,o.left+o.width-n[1].width,o.top+o.height-n[2].width),z(i,r[3],r[0],e.bottomLeftInner,e.topLeftInner,o.left+n[3].width,o.top+o.height-n[2].width);break;default:z(i,r[0],r[1],e.topLeftOuter,e.topRightOuter,o.left,o.top),z(i,r[1],r[2],e.topRightOuter,e.bottomRightOuter,o.left+o.width,o.top),z(i,r[2],r[3],e.bottomRightOuter,e.bottomLeftOuter,o.left+o.width,o.top+o.height),z(i,r[3],r[0],e.bottomLeftOuter,e.topLeftOuter,o.left,o.top+o.height)}return i}function D(t,e,n){var r,o,a,i,s,l,c=e.left,d=e.top,u=e.width,h=e.height,f=A(t),p=B(e,f,n),m={clip:N(t,p,n,f,e),borders:[]};for(r=0;4>r;r++)if(n[r].width>0){switch(o=c,a=d,i=u,s=h-n[2].width,r){case 0:s=n[0].width,l=U({c1:[o,a],c2:[o+i,a],c3:[o+i-n[1].width,a+s],c4:[o+n[3].width,a+s]},f[0],f[1],p.topLeftOuter,p.topLeftInner,p.topRightOuter,p.topRightInner);break;case 1:o=c+u-n[1].width,i=n[1].width,l=U({c1:[o+i,a],c2:[o+i,a+s+n[2].width],c3:[o,a+s],c4:[o,a+n[0].width]},f[1],f[2],p.topRightOuter,p.topRightInner,p.bottomRightOuter,p.bottomRightInner);break;case 2:a=a+h-n[2].width,s=n[2].width,l=U({c1:[o+i,a+s],c2:[o,a+s],c3:[o+n[3].width,a],c4:[o+i-n[3].width,a]},f[2],f[3],p.bottomRightOuter,p.bottomRightInner,p.bottomLeftOuter,p.bottomLeftInner);break;case 3:i=n[3].width,l=U({c1:[o,a+s+n[2].width],c2:[o,a],c3:[o+i,a+n[0].width],c4:[o+i,a+s]},f[3],f[0],p.bottomLeftOuter,p.bottomLeftInner,p.topLeftOuter,p.topLeftInner)}m.borders.push({args:l,color:n[r].color})}return m}function P(t,e){var n=t.drawShape();return e.forEach(function(t,e){n[0===e?"moveTo":t[0]+"To"].apply(null,t.slice(1))}),n}function F(t,e,n){"transparent"!==n&&(t.setVariable("fillStyle",n),P(t,e),t.fill(),ct+=1)}function $(t,e,n){var r,o,a=dt.createElement("valuewrap"),i=["lineHeight","textAlign","fontFamily","color","fontSize","paddingLeft","paddingTop","width","height","border","borderLeftWidth","borderTopWidth"];i.forEach(function(e){try{a.style[e]=mt(t,e)}catch(t){ut.log("html2canvas: Parse: Exception caught in renderFormValue: "+t.message)}}),a.style.borderColor="black",a.style.borderStyle="solid",a.style.display="block",a.style.position="absolute",(/^(submit|reset|button|text|password)$/.test(t.type)||"SELECT"===t.nodeName)&&(a.style.lineHeight=mt(t,"height")),a.style.top=e.top+"px",a.style.left=e.left+"px",r="SELECT"===t.nodeName?(t.options[t.selectedIndex]||0).text:t.value,r||(r=t.placeholder),o=dt.createTextNode(r),a.appendChild(o),pt.appendChild(a),v(t,o,n),pt.removeChild(a)}function _(t){t.drawImage.apply(t,Array.prototype.slice.call(arguments,1)),ct+=1}function V(e,r){var o=t.getComputedStyle(e,r);if(o&&o.content&&"none"!==o.content&&"-moz-alt-content"!==o.content&&"none"!==o.display){var a=o.content+"",i=a.substr(0,1);i===a.substr(a.length-1)&&i.match(/'|"/)&&(a=a.substr(1,a.length-2));var s="url"===a.substr(0,3),l=n.createElement(s?"img":"span");return l.className=gt+"-before "+gt+"-after",Object.keys(o).filter(j).forEach(function(t){try{l.style[t]=o[t]}catch(e){ut.log(["Tried to assign readonly property ",t,"Error:",e])}}),s?l.src=ut.parseBackgroundImage(a)[0].args[0]:l.innerHTML=a,l}}function j(e){return isNaN(t.parseInt(e,10))}function G(t,e){var n=V(t,":before"),r=V(t,":after");(n||r)&&(n&&(t.className+=" "+gt+"-before",t.parentNode.insertBefore(n,t),at(n,e,!0),t.parentNode.removeChild(n),t.className=t.className.replace(gt+"-before","").trim()),r&&(t.className+=" "+gt+"-after",t.appendChild(r),at(r,e,!0),t.removeChild(r),t.className=t.className.replace(gt+"-after","").trim()))}function W(t,e,n,r){var o=Math.round(r.left+n.left),a=Math.round(r.top+n.top);t.createPattern(e),t.translate(o,a),t.fill(),t.translate(-o,-a)}function H(t,e,n,r,o,a,i,s){var l=[];l.push(["line",Math.round(o),Math.round(a)]),l.push(["line",Math.round(o+i),Math.round(a)]),l.push(["line",Math.round(o+i),Math.round(s+a)]),l.push(["line",Math.round(o),Math.round(s+a)]),P(t,l),t.save(),t.clip(),W(t,e,n,r),t.restore()}function q(t,e,n){d(t,e.left,e.top,e.width,e.height,n)}function X(t,e,n,r,o){var a=ut.BackgroundSize(t,e,r,o),i=ut.BackgroundPosition(t,e,r,o,a),s=mt(t,"backgroundRepeat").split(",").map(ut.trimText);switch(r=Q(r,a),s=s[o]||s[0]){case"repeat-x":H(n,r,i,e,e.left,e.top+i.top,99999,r.height);break;case"repeat-y":H(n,r,i,e,e.left+i.left,e.top,r.width,99999);break;case"no-repeat":H(n,r,i,e,e.left+i.left,e.top+i.top,r.width,r.height);break;default:W(n,r,i,{top:e.top,left:e.left,width:r.width,height:r.height})}}function Y(t,e,n){for(var r,o=mt(t,"backgroundImage"),a=ut.parseBackgroundImage(o),i=a.length;i--;)if(o=a[i],o.args&&0!==o.args.length){var s="url"===o.method?o.args[0]:o.value;r=E(s),r?X(t,e,n,r,i):ut.log("html2canvas: Error loading background:",o)}}function Q(t,e){if(t.width===e.width&&t.height===e.height)return t;var n,r=dt.createElement("canvas");return r.width=e.width,r.height=e.height,n=r.getContext("2d"),_(n,t,0,0,t.width,t.height,0,0,e.width,e.height),r}function J(t,e,n){return t.setVariable("globalAlpha",mt(e,"opacity")*(n?n.opacity:1))}function K(t){return t.replace("px","")}function Z(t){var e=mt(t,"transform")||mt(t,"-webkit-transform")||mt(t,"-moz-transform")||mt(t,"-ms-transform")||mt(t,"-o-transform"),n=mt(t,"transform-origin")||mt(t,"-webkit-transform-origin")||mt(t,"-moz-transform-origin")||mt(t,"-ms-transform-origin")||mt(t,"-o-transform-origin")||"0px 0px";n=n.split(" ").map(K).map(ut.asFloat);var r;if(e&&"none"!==e){var o=e.match(wt);if(o)switch(o[1]){case"matrix":r=o[2].split(",").map(ut.trimText).map(ut.asFloat)}}return{origin:n,matrix:r}}function tt(t,e,n,r){var s=l(e?n.width:a(),e?n.height:i()),c={ctx:s,opacity:J(s,t,e),cssPosition:mt(t,"position"),borders:L(t),transform:r,clip:e&&e.clip?ut.Extend({},e.clip):null};return I(t,c,e),o.useOverflow===!0&&/(hidden|scroll|auto)/.test(mt(t,"overflow"))===!0&&/(BODY)/i.test(t.nodeName)===!1&&(c.clip=c.clip?R(c.clip,n):n),c}function et(t,e,n){var r={left:e.left+t[3].width,top:e.top+t[0].width,width:e.width-(t[1].width+t[3].width),height:e.height-(t[0].width+t[2].width)};return n&&(r=R(r,n)),r}function nt(t,e){var n=e.matrix?ut.OffsetBounds(t):ut.Bounds(t);return e.origin[0]+=n.left,e.origin[1]+=n.top,n}function rt(t,e,n,r){var o,a=Z(t,e),i=nt(t,a),s=tt(t,e,i,a),l=s.borders,c=s.ctx,d=et(l,i,s.clip),u=D(t,i,l),h=ft.test(t.nodeName)?"#efefef":mt(t,"backgroundColor");switch(P(c,u.clip),c.save(),c.clip(),d.height>0&&d.width>0&&!r?(q(c,i,h),Y(t,d,c)):r&&(s.backgroundColor=h),c.restore(),u.borders.forEach(function(t){F(c,t.args,t.color)}),n||G(t,s),t.nodeName){case"IMG":(o=E(t.getAttribute("src")))?M(c,t,o,i,l):ut.log("html2canvas: Error loading <img>:"+t.getAttribute("src"));break;case"INPUT":/^(text|url|email|submit|button|reset)$/.test(t.type)&&(t.value||t.placeholder||"").length>0&&$(t,i,s);break;case"TEXTAREA":(t.value||t.placeholder||"").length>0&&$(t,i,s);break;case"SELECT":(t.options||t.placeholder||"").length>0&&$(t,i,s);break;case"LI":S(t,s,d);break;case"CANVAS":M(c,t,t,i,l)}return s}function ot(t){return"none"!==mt(t,"display")&&"hidden"!==mt(t,"visibility")&&!t.hasAttribute("data-html2canvas-ignore")}function at(t,e,n){ot(t)&&(e=rt(t,e,n,!1)||e,ft.test(t.nodeName)||it(t,e,n))}function it(t,e,n){ut.Children(t).forEach(function(r){r.nodeType===r.ELEMENT_NODE?at(r,e,n):r.nodeType===r.TEXT_NODE&&v(t,r,e)})}function st(){var t=mt(n.documentElement,"backgroundColor"),e=ut.isTransparent(t)&&lt===n.body,r=rt(lt,null,!1,e);return it(lt,r),e&&(t=r.backgroundColor),pt.removeChild(yt),{backgroundColor:t,stack:r}}t.scroll(0,0);var lt=o.elements===r?n.body:o.elements[0],ct=0,dt=lt.ownerDocument,ut=h.Util,ht=ut.Support(o,dt),ft=RegExp("("+o.ignoreElements+")"),pt=dt.body,mt=ut.getCSS,gt="___html2canvas___pseudoelement",yt=dt.createElement("style");yt.innerHTML="."+gt+'-before:before { content: "" !important; display: none !important; }.'+gt+'-after:after { content: "" !important; display: none !important; }',pt.appendChild(yt),e=e||{};var bt=function(t){return function(e,n,r,o){var a=r*t,i=o*t,s=e+r,l=n+o;return{topLeft:O({x:e,y:l},{x:e,y:l-i},{x:s-a,y:n},{x:s,y:n}),topRight:O({x:e,y:n},{x:e+a,y:n},{x:s,y:l-i},{x:s,y:l}),bottomRight:O({x:s,y:n},{x:s,y:n+i},{x:e+a,y:l},{x:e,y:l}),bottomLeft:O({x:s,y:l},{x:s-a,y:l},{x:e,y:n+i},{x:e,y:n})}}}(4*((Math.sqrt(2)-1)/3)),wt=/(matrix)\((.+)\)/;return st()},h.Preload=function(o){function a(t){R.href=t,R.href=R.href;var e=R.protocol+R.host;return e===g}function i(){v.log("html2canvas: start: images: "+x.numLoaded+" / "+x.numTotal+" (failed: "+x.numFailed+")"),!x.firstRun&&x.numLoaded>=x.numTotal&&(v.log("Finished loading images: # "+x.numTotal+" (failed: "+x.numFailed+")"),"function"==typeof o.complete&&o.complete(x))}function s(e,n,a){var s,l,c=o.proxy;R.href=e,e=R.href,s="html2canvas_"+k++,a.callbackname=s,c+=c.indexOf("?")>-1?"&":"?",c+="url="+encodeURIComponent(e)+"&callback="+s,l=T.createElement("script"),t[s]=function(e){"error:"===e.substring(0,6)?(a.succeeded=!1,
x.numLoaded++,x.numFailed++,i()):(m(n,a),n.src=e),t[s]=r;try{delete t[s]}catch(t){}l.parentNode.removeChild(l),l=null,delete a.script,delete a.callbackname},l.setAttribute("type","text/javascript"),l.setAttribute("src",c),a.script=l,t.document.body.appendChild(l)}function l(e,n){var r=t.getComputedStyle(e,n),o=r.content;"url"===o.substr(0,3)&&y.loadImage(h.Util.parseBackgroundImage(o)[0].args[0]),f(r.backgroundImage,e)}function c(t){l(t,":before"),l(t,":after")}function d(t,e){var n=h.Generate.Gradient(t,e);n!==r&&(x[t]={img:n,succeeded:!0},x.numTotal++,x.numLoaded++,i())}function u(t){return t&&t.method&&t.args&&t.args.length>0}function f(t,e){var n;h.Util.parseBackgroundImage(t).filter(u).forEach(function(t){"url"===t.method?y.loadImage(t.args[0]):t.method.match(/\-?gradient$/)&&(n===r&&(n=h.Util.Bounds(e)),d(t.value,n))})}function p(t){var e=!1;try{v.Children(t).forEach(p)}catch(t){}try{e=t.nodeType}catch(t){e=!1,v.log("html2canvas: failed to access some element's nodeType - Exception: "+t.message)}if(1===e||e===r){c(t);try{f(v.getCSS(t,"backgroundImage"),t)}catch(t){v.log("html2canvas: failed to get background-image - Exception: "+t.message)}f(t)}}function m(e,n){e.onload=function(){n.timer!==r&&t.clearTimeout(n.timer),x.numLoaded++,n.succeeded=!0,e.onerror=e.onload=null,i()},e.onerror=function(){if("anonymous"===e.crossOrigin&&(t.clearTimeout(n.timer),o.proxy)){var a=e.src;return e=new Image,n.img=e,e.src=a,s(e.src,e,n),r}x.numLoaded++,x.numFailed++,n.succeeded=!1,e.onerror=e.onload=null,i()}}var g,y,b,w,x={numLoaded:0,numFailed:0,numTotal:0,cleanupDone:!1},v=h.Util,k=0,C=o.elements[0]||n.body,T=C.ownerDocument,S=C.getElementsByTagName("img"),E=S.length,R=T.createElement("a"),I=function(t){return t.crossOrigin!==r}(new Image);for(R.href=t.location.href,g=R.protocol+R.host,y={loadImage:function(t){var e,n;t&&x[t]===r&&(e=new Image,t.match(/data:image\/.*;base64,/i)?(e.src=t.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),n=x[t]={img:e},x.numTotal++,m(e,n)):a(t)||o.allowTaint===!0?(n=x[t]={img:e},x.numTotal++,m(e,n),e.src=t):I&&!o.allowTaint&&o.useCORS?(e.crossOrigin="anonymous",n=x[t]={img:e},x.numTotal++,m(e,n),e.src=t):o.proxy&&(n=x[t]={img:e},x.numTotal++,s(t,e,n)))},cleanupDOM:function(a){var s,l;if(!x.cleanupDone){a&&"string"==typeof a?v.log("html2canvas: Cleanup because: "+a):v.log("html2canvas: Cleanup after timeout: "+o.timeout+" ms.");for(l in x)if(x.hasOwnProperty(l)&&(s=x[l],"object"==("undefined"==typeof s?"undefined":e(s))&&s.callbackname&&s.succeeded===r)){t[s.callbackname]=r;try{delete t[s.callbackname]}catch(t){}s.script&&s.script.parentNode&&(s.script.setAttribute("src","about:blank"),s.script.parentNode.removeChild(s.script)),x.numLoaded++,x.numFailed++,v.log("html2canvas: Cleaned up failed img: '"+l+"' Steps: "+x.numLoaded+" / "+x.numTotal)}t.stop!==r?t.stop():n.execCommand!==r&&n.execCommand("Stop",!1),n.close!==r&&n.close(),x.cleanupDone=!0,a&&"string"==typeof a||i()}},renderingDone:function(){w&&t.clearTimeout(w)}},o.timeout>0&&(w=t.setTimeout(y.cleanupDOM,o.timeout)),v.log("html2canvas: Preload starts: finding background-images"),x.firstRun=!0,p(C),v.log("html2canvas: Preload: Finding images"),b=0;E>b;b+=1)y.loadImage(S[b].getAttribute("src"));return x.firstRun=!1,v.log("html2canvas: Preload: Done."),x.numTotal===x.numLoaded&&i(),y},h.Renderer=function(t,e){function o(t){function e(t){Object.keys(t).sort().forEach(function(n){var r=[],a=[],i=[],s=[];t[n].forEach(function(t){t.node.zIndex.isPositioned||1>t.node.zIndex.opacity?i.push(t):t.node.zIndex.isFloated?a.push(t):r.push(t)}),function t(e){e.forEach(function(e){s.push(e),e.children&&t(e.children)})}(r.concat(a,i)),s.forEach(function(t){t.context?e(t.context):o.push(t.node)})})}var n,o=[];return n=function(t){function e(t,n,o){var a="auto"===n.zIndex.zindex?0:Number(n.zIndex.zindex),i=t,s=n.zIndex.isPositioned,l=n.zIndex.isFloated,c={node:n},d=o;n.zIndex.ownStacking?(i=c.context={"!":[{node:n,children:[]}]},d=r):(s||l)&&(d=c.children=[]),0===a&&o?o.push(c):(t[a]||(t[a]=[]),t[a].push(c)),n.zIndex.children.forEach(function(t){e(i,t,d)})}var n={};return e(n,t),n}(t),e(n),o}function a(t){var n;if("string"==typeof e.renderer&&h.Renderer[t]!==r)n=h.Renderer[t](e);else{if("function"!=typeof t)throw Error("Unknown renderer");n=t(e)}if("function"!=typeof n)throw Error("Invalid renderer defined");return n}return a(e.renderer)(t,e,n,o(t.stack),h)},h.Util.Support=function(t,e){function n(){var t=new Image,n=e.createElement("canvas"),o=n.getContext!==r&&n.getContext("2d");if(o===!1)return!1;n.width=n.height=10,t.src=["data:image/svg+xml,","<svg xmlns='http://www.w3.org/2000/svg' width='10' height='10'>","<foreignObject width='10' height='10'>","<div xmlns='http://www.w3.org/1999/xhtml' style='width:10;height:10;'>","sup","</div>","</foreignObject>","</svg>"].join("");try{o.drawImage(t,0,0),n.toDataURL()}catch(t){return!1}return h.Util.log("html2canvas: Parse: SVG powered rendering available"),!0}function o(){var t,n,r,o,a=!1;return e.createRange&&(t=e.createRange(),t.getBoundingClientRect&&(n=e.createElement("boundtest"),n.style.height="123px",n.style.display="block",e.body.appendChild(n),t.selectNode(n),r=t.getBoundingClientRect(),o=r.height,123===o&&(a=!0),e.body.removeChild(n))),a}return{rangeBounds:o(),svgRendering:t.svgRendering&&n()}},t.html2canvas=function(e,n){e=e.length?e:[e];var r,o,a={logging:!1,elements:e,background:"#fff",proxy:null,timeout:0,useCORS:!1,allowTaint:!1,svgRendering:!1,ignoreElements:"IFRAME|OBJECT|PARAM",useOverflow:!0,letterRendering:!1,chinese:!1,width:null,height:null,taintTest:!0,renderer:"Canvas"};return a=h.Util.Extend(n,a),h.logging=a.logging,a.complete=function(t){("function"!=typeof a.onpreloaded||a.onpreloaded(t)!==!1)&&(r=h.Parse(t,a),("function"!=typeof a.onparsed||a.onparsed(r)!==!1)&&(o=h.Renderer(r,a),"function"==typeof a.onrendered&&a.onrendered(o)))},t.setTimeout(function(){h.Preload(a)},0),{render:function(t,e){return h.Renderer(t,h.Util.Extend(e,a))},parse:function(t,e){return h.Parse(t,h.Util.Extend(e,a))},preload:function(t){return h.Preload(h.Util.Extend(t,a))},log:h.Util.log}},t.html2canvas.log=h.Util.log,t.html2canvas.Renderer={Canvas:r},h.Renderer.Canvas=function(t){function o(t,e){t.beginPath(),e.forEach(function(e){t[e.name].apply(t,e.arguments)}),t.closePath()}function a(t){if(-1===l.indexOf(t.arguments[0].src)){d.drawImage(t.arguments[0],0,0);try{d.getImageData(0,0,1,1)}catch(t){return c=s.createElement("canvas"),d=c.getContext("2d"),!1}l.push(t.arguments[0].src)}return!0}function i(e,n){switch(n.type){case"variable":e[n.name]=n.arguments;break;case"function":switch(n.name){case"createPattern":if(n.arguments[0].width>0&&n.arguments[0].height>0)try{e.fillStyle=e.createPattern(n.arguments[0],"repeat")}catch(t){u.log("html2canvas: Renderer: Error creating pattern",t.message)}break;case"drawShape":o(e,n.arguments);break;case"drawImage":n.arguments[8]>0&&n.arguments[7]>0&&(!t.taintTest||t.taintTest&&a(n))&&e.drawImage.apply(e,n.arguments);break;default:e[n.name].apply(e,n.arguments)}}}t=t||{};var s=n,l=[],c=n.createElement("canvas"),d=c.getContext("2d"),u=h.Util,f=t.canvas||s.createElement("canvas");return function(t,n,o,a,s){var l,c,d,h=f.getContext("2d"),p=t.stack;return f.width=f.style.width=n.width||p.ctx.width,f.height=f.style.height=n.height||p.ctx.height,d=h.fillStyle,h.fillStyle=u.isTransparent(p.backgroundColor)&&n.background!==r?n.background:t.backgroundColor,h.fillRect(0,0,f.width,f.height),h.fillStyle=d,a.forEach(function(t){h.textBaseline="bottom",h.save(),t.transform.matrix&&(h.translate(t.transform.origin[0],t.transform.origin[1]),h.transform.apply(h,t.transform.matrix),h.translate(-t.transform.origin[0],-t.transform.origin[1])),t.clip&&(h.beginPath(),h.rect(t.clip.left,t.clip.top,t.clip.width,t.clip.height),h.clip()),t.ctx.storage&&t.ctx.storage.forEach(function(t){i(h,t)}),h.restore()}),u.log("html2canvas: Renderer: Canvas renderer done - returning canvas obj"),1===n.elements.length&&"object"==e(n.elements[0])&&"BODY"!==n.elements[0].nodeName?(c=s.Util.Bounds(n.elements[0]),l=o.createElement("canvas"),l.width=Math.ceil(c.width),l.height=Math.ceil(c.height),h=l.getContext("2d"),h.drawImage(f,c.left,c.top,c.width,c.height,0,0,c.width,c.height),f=null,l):f}}}(window,document)}).call(e,n(3))}});
//# sourceMappingURL=bundle.js.map